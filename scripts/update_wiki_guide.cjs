const http = require('http');

const guideContent = `
# ğŸ“˜ ì´ìŠˆ íŠ¸ë˜ì»¤ ì‚¬ìš© ê°€ì´ë“œ

ì´ìŠˆ íŠ¸ë˜ì»¤ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ì´ ë¬¸ì„œëŠ” ì‹œìŠ¤í…œì˜ ì£¼ìš” ê¸°ëŠ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## 1. ì´ìŠˆ ê´€ë¦¬ (Issue Management)

### ì´ìŠˆ ìƒì„±
- **[+ ìƒˆ ì´ìŠˆ]** ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìƒˆë¡œìš´ ì‘ì—…ì„ ë“±ë¡í•©ë‹ˆë‹¤.
- **ì œëª©**, **ì„¤ëª…**, **ìš°ì„ ìˆœìœ„**, **ë¼ë²¨**, **ë‹´ë‹¹ì**, **ê¸°ê°„(ì‹œì‘/ë§ˆê°ì¼)**ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì´ìŠˆ ëª©ë¡ ë° í•„í„°ë§
- ë©”ì¸ í™”ë©´ì—ì„œ ë“±ë¡ëœ ëª¨ë“  ì´ìŠˆë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ìƒë‹¨ì˜ **í•„í„° ë°”**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ì´ìŠˆë§Œ ë¹ ë¥´ê²Œ ì°¾ìœ¼ì„¸ìš”:
    - **ìƒíƒœ**: ì§„í–‰ ì „ / ì§„í–‰ ì¤‘ / í™•ì¸ í•„ìš” / ì™„ë£Œ
    - **ìš°ì„ ìˆœìœ„**: ê¸´ê¸‰ / ë†’ìŒ / ë³´í†µ / ë‚®ìŒ
    - **ë¼ë²¨**: ë²„ê·¸ / ê¸°ëŠ¥ / ê°œì„  / ì‘ì—…

### ì´ìŠˆ ìƒì„¸ ë° ìˆ˜ì •
- ëª©ë¡ì—ì„œ ì´ìŠˆë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìƒíƒœ ë³€ê²½**: ì§„í–‰ ìƒí™©ì— ë”°ë¼ 'ì§„í–‰ ì¤‘', 'í™•ì¸ ìš”ì²­', 'ì™„ë£Œ' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.
- **ëŒ“ê¸€**: í•˜ë‹¨ Commentaires ì„¹ì…˜ì—ì„œ íŒ€ì›ë“¤ê³¼ ì˜ê²¬ì„ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‚­ì œ**: ì‘ì„±ìì™€ ê´€ë¦¬ìë§Œ ì´ìŠˆë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 2. ìŠ¤ì¼€ì¤„ (Schedule)

ìƒë‹¨ ë©”ë‰´ì˜ **'ìŠ¤ì¼€ì¤„'** íƒ­ì—ì„œ ì¼ì • ì •ë³´ë¥¼ ê°„íŠ¸ ì°¨íŠ¸(Gantt Chart) í˜•íƒœë¡œ í™•ì¸í•˜ì„¸ìš”.

- **ë‚˜ì˜ ì¼ì •**: ë‚´ê°€ **ìš”ì²­í•œ(Requested)** ì´ìŠˆì™€ ë‚˜ì—ê²Œ **í• ë‹¹ëœ(Assigned)** ì´ìŠˆê°€ êµ¬ë¶„ë˜ì–´ í‘œì‹œë©ë‹ˆë‹¤.
- **íƒìƒ‰**: ìƒë‹¨ í™”ì‚´í‘œ(â® / â¯)ë¥¼ ì´ìš©í•´ ì›”ë³„ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìƒ‰ìƒ êµ¬ë¶„**: ê° ë°”(Bar)ì˜ ìƒ‰ìƒì€ ì´ìŠˆì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (íŒŒë‘: ì§„í–‰ ì „, ì£¼í™©: ì§„í–‰ ì¤‘, ë…¸ë‘: í™•ì¸ í•„ìš”, íšŒìƒ‰: ì™„ë£Œ)

---

## 3. ìœ„í‚¤ (Wiki)

íŒ€ì˜ ì§€ì‹ê³¼ ê°€ì´ë“œë¥¼ ê³µìœ í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.

- **ë¬¸ì„œ ìƒì„±/ìˆ˜ì •**: ëˆ„êµ¬ë‚˜ ììœ ë¡­ê²Œ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë§ˆí¬ë‹¤ìš´(Markdown)**: í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼, ë¦¬ìŠ¤íŠ¸, ì½”ë“œ ë¸”ë¡ ë“±ì„ ì§€ì›í•©ë‹ˆë‹¤. (ì‘ì„± ì‹œ ìš°ì¸¡ ë¯¸ë¦¬ë³´ê¸° í™œìš©)

---

## 4. ê´€ë¦¬ì ê¸°ëŠ¥ (Admin Only)

**ê´€ë¦¬ì(Admin)** ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¶”ê°€ ê¶Œí•œì´ ìˆìŠµë‹ˆë‹¤:
- ëª¨ë“  ì´ìŠˆ ì‚­ì œ ë° ìˆ˜ì •
- ì‚¬ìš©ì ê´€ë¦¬ (ì¶”í›„ ê¸°ëŠ¥ ì¶”ê°€ ì˜ˆì •)

---

## 5. ì‹œìŠ¤í…œ ì—°ë™ (System Integration)

### VCS (ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ) (Optional)
ì´ìŠˆì™€ ê´€ë ¨ëœ ì»¤ë°‹(Commit) ë‚´ì—­ì„ ìë™ìœ¼ë¡œ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì„¤ì •**: \`vcs_config.json\` íŒŒì¼ì—ì„œ Git/SVN ì €ì¥ì†Œ ê²½ë¡œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
- **SVN ì‚¬ìš©ì**: \`svnExecutablePath\` ì„¤ì •ì„ í†µí•´ ì‹œìŠ¤í…œ PATHì— ì—†ëŠ” SVN í´ë¼ì´ì–¸íŠ¸ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì›¹í›…(Webhook)**: ì´ìŠˆ íŠ¸ë˜ì»¤ê°€ ì €ì¥ì†Œì— ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤ë©´ ì›¹í›… ì„¤ì •ì€ **í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. (ì§ì ‘ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•œ ì›ê²© ì €ì¥ì†Œì˜ ê²½ìš°ì—ë§Œ ì‚¬ìš©)
- **ìë™ ë™ê¸°í™” (Auto-Sync)**: \`vcs_config.json\`ì—ì„œ \`autoSync.enabled: true\`ë¡œ ì„¤ì •í•˜ë©´, ì£¼ê¸°ì ìœ¼ë¡œ ì €ì¥ì†Œì˜ ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°›ì•„ì˜µë‹ˆë‹¤. (ê¸°ë³¸ê°’: Off)

### ì‹ íƒìŠ¤ í•˜ì´ë¼ì´íŒ… (Syntax Highlighting)
ì»¤ë°‹ ë‚´ì—­ì˜ ì½”ë“œ ë³€ê²½ ì‚¬í•­(Diff)ì„ ë³´ê¸° ì¢‹ê²Œ í‘œì‹œí•©ë‹ˆë‹¤.
- **ì§€ì› ì–¸ì–´**: JavaScript, CSS, JSON, SQL, Shell, XML ë“± ì£¼ìš” ì–¸ì–´ ìë™ ê°ì§€
- **Rich Text Diff**: ì¼ë°˜ í…ìŠ¤íŠ¸(.txt) íŒŒì¼ë„ ë³€ê²½ëœ ë¼ì¸ì„ ë°°ê²½ìƒ‰ìœ¼ë¡œ ê°•ì¡°í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

---

*ì´ ê°€ì´ë“œëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.*
`;

function request(method, path, body = null) {
    return new Promise((resolve, reject) => {
        const options = {
            hostname: '127.0.0.1',
            port: 3000,
            path: path,
            method: method,
            headers: {
                'Content-Type': 'application/json'
            }
        };

        const req = http.request(options, (res) => {
            let data = '';
            res.on('data', (chunk) => data += chunk);
            res.on('end', () => {
                try {
                    resolve(JSON.parse(data));
                } catch (e) {
                    resolve(data);
                }
            });
        });

        req.on('error', (e) => {
            console.log('Port 3000 failed, trying 3100');
            // Retry logic or fail
            options.port = 3100;
            const req2 = http.request(options, (res) => {
                let data = '';
                res.on('data', (chunk) => data += chunk);
                res.on('end', () => resolve(JSON.parse(data)));
            });
            req2.on('error', reject);
            if (body) req2.write(JSON.stringify(body));
            req2.end();
        });

        if (body) req.write(JSON.stringify(body));
        req.end();
    });
}

async function updateWiki() {
    console.log('ğŸ“˜ Uploading Wiki Guide...');
    try {
        const res = await request('POST', '/api/wiki', {
            title: 'ì´ìŠˆ íŠ¸ë˜ì»¤ ì‚¬ìš© ê°€ì´ë“œ',
            content: guideContent
        });
        console.log('âœ… Usage Guide Created:', res);
    } catch (e) {
        console.error('âŒ Failed to upload guide:', e);
    }
}

updateWiki();
